import{a as U}from"./chunk-QBN5IKRH.js";import{a as G,b as j,c as g,d as A,e as B,h as D,i as H,j as O,n as Y,o as J,p as K,q as Q}from"./chunk-GIPP6JLH.js";import"./chunk-WPHHPEL3.js";import{$ as i,Ba as q,Da as T,Fa as N,G as E,H as I,N as o,Na as L,Oa as V,P as S,Q as R,Ra as z,V as d,Y as a,_ as t,aa as p,ca as M,da as c,fa as s,ga as P,oa as C}from"./chunk-7B2THDHR.js";var k=r=>({"border-red-500 dark:border-red-400":r});function W(r,m){r&1&&(t(0,"div"),s(1,"Full name is required"),i())}function X(r,m){if(r&1&&(t(0,"div",23),d(1,W,2,0,"div",24),i()),r&2){let n,l=c();o(),a("ngIf",(n=l.registerForm.get("name"))==null||n.errors==null?null:n.errors.required)}}function Z(r,m){r&1&&(t(0,"div"),s(1,"Email is required"),i())}function $(r,m){r&1&&(t(0,"div"),s(1,"Must be a valid email address"),i())}function ee(r,m){if(r&1&&(t(0,"div",23),d(1,Z,2,0,"div",24)(2,$,2,0,"div",24),i()),r&2){let n,l,e=c();o(),a("ngIf",(n=e.registerForm.get("email"))==null||n.errors==null?null:n.errors.required),o(),a("ngIf",(l=e.registerForm.get("email"))==null||l.errors==null?null:l.errors.email)}}function re(r,m){r&1&&(t(0,"div"),s(1,"Password is required"),i())}function te(r,m){r&1&&(t(0,"div"),s(1," Password must be at least 6 characters "),i())}function ie(r,m){if(r&1&&(t(0,"div",23),d(1,re,2,0,"div",24)(2,te,2,0,"div",24),i()),r&2){let n,l,e=c();o(),a("ngIf",(n=e.registerForm.get("password"))==null||n.errors==null?null:n.errors.required),o(),a("ngIf",(l=e.registerForm.get("password"))==null||l.errors==null?null:l.errors.minlength)}}function ne(r,m){r&1&&(t(0,"div"),s(1," Confirm password is required "),i())}function le(r,m){r&1&&(t(0,"div"),s(1," Passwords must match "),i())}function oe(r,m){if(r&1&&(t(0,"div",23),d(1,ne,2,0,"div",24)(2,le,2,0,"div",24),i()),r&2){let n,l=c();o(),a("ngIf",(n=l.registerForm.get("confirmPassword"))==null||n.errors==null?null:n.errors.required),o(),a("ngIf",l.registerForm.errors==null?null:l.registerForm.errors.passwordsNotMatching)}}function ae(r,m){r&1&&(t(0,"div"),s(1," You must agree to the terms "),i())}function se(r,m){if(r&1&&(t(0,"div",23),d(1,ae,2,0,"div",24),i()),r&2){let n,l=c();o(),a("ngIf",(n=l.registerForm.get("terms"))==null||n.errors==null?null:n.errors.required)}}function me(r,m){r&1&&(t(0,"span",25),E(),t(1,"svg",26),p(2,"circle",27)(3,"path",28),i()())}function de(r,m){if(r&1&&(t(0,"div",29)(1,"div",30)(2,"div",31),E(),t(3,"svg",32),p(4,"path",33),i()(),I(),t(5,"div",34)(6,"h3",35),s(7),i()()()()),r&2){let n=c();o(7),P(n.errorMessage)}}var he=(()=>{class r{constructor(n,l,e){this.formBuilder=n,this.authService=l,this.router=e,this.isLoading=!1,this.errorMessage="",this.registerForm=this.formBuilder.group({name:["",g.required],email:["",[g.required,g.email]],password:["",[g.required,g.minLength(6)]],confirmPassword:["",g.required],terms:[!1,g.requiredTrue]},{validators:this.passwordMatchValidator})}passwordMatchValidator(n){let l=n.get("password")?.value,e=n.get("confirmPassword")?.value;return l===e?null:{passwordsNotMatching:!0}}onSubmit(){if(this.registerForm.invalid)return;this.isLoading=!0,this.errorMessage="";let{name:n,email:l,password:e}=this.registerForm.value;this.authService.register(n,l,e).subscribe({next:()=>{this.router.navigate(["/"])},error:u=>{this.errorMessage=u.message||"An error occurred during registration. Please try again.",this.isLoading=!1},complete:()=>{this.isLoading=!1}})}static{this.\u0275fac=function(l){return new(l||r)(S(J),S(U),S(L))}}static{this.\u0275cmp=R({type:r,selectors:[["app-register"]],decls:46,vars:24,consts:[[1,"flex","min-h-[80vh]","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"w-full","max-w-md","space-y-8"],[1,"mt-6","text-center","text-3xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mt-2","text-center","text-sm","text-gray-600","dark:text-gray-400"],["routerLink","/auth/login",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],["for","name",1,"sr-only"],["id","name","name","name","type","text","formControlName","name","autocomplete","name","required","","placeholder","Full name",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],["class","mt-1 text-sm text-red-600 dark:text-red-400",4,"ngIf"],["for","email-address",1,"sr-only"],["id","email-address","name","email","type","email","formControlName","email","autocomplete","email","required","","placeholder","Email address",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],["for","password",1,"sr-only"],["id","password","name","password","type","password","formControlName","password","autocomplete","new-password","required","","placeholder","Password",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],["for","confirmPassword",1,"sr-only"],["id","confirmPassword","name","confirmPassword","type","password","formControlName","confirmPassword","autocomplete","new-password","required","","placeholder","Confirm Password",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],[1,"flex","items-center"],["id","terms","name","terms","type","checkbox","formControlName","terms",1,"h-4","w-4","rounded","border-gray-300","text-primary-600","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700",3,"ngClass"],["for","terms",1,"ml-2","block","text-sm","text-gray-900","dark:text-gray-300"],["href","#",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],["type","submit",1,"group","relative","flex","w-full","justify-center","rounded-md","border","border-transparent","bg-primary-600","py-2","px-4","text-sm","font-medium","text-white","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","disabled:opacity-70","dark:bg-primary-700","dark:hover:bg-primary-600",3,"disabled"],["class","absolute inset-y-0 left-0 flex items-center pl-3",4,"ngIf"],["class","rounded-md bg-red-50 p-4 dark:bg-red-900/20",4,"ngIf"],[1,"mt-1","text-sm","text-red-600","dark:text-red-400"],[4,"ngIf"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none",1,"h-5","w-5","animate-spin","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"rounded-md","bg-red-50","p-4","dark:bg-red-900/20"],[1,"flex"],[1,"flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800","dark:text-red-200"]],template:function(l,e){if(l&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),s(4," Create your account "),i(),t(5,"p",3),s(6," Or "),t(7,"a",4),s(8," sign in to your existing account "),i()()(),t(9,"form",5),M("ngSubmit",function(){return e.onSubmit()}),t(10,"div",6)(11,"div")(12,"label",7),s(13,"Full name"),i(),p(14,"input",8),d(15,X,2,1,"div",9),i(),t(16,"div")(17,"label",10),s(18,"Email address"),i(),p(19,"input",11),d(20,ee,3,2,"div",9),i(),t(21,"div")(22,"label",12),s(23,"Password"),i(),p(24,"input",13),d(25,ie,3,2,"div",9),i(),t(26,"div")(27,"label",14),s(28,"Confirm Password"),i(),p(29,"input",15),d(30,oe,3,2,"div",9),i()(),t(31,"div",16),p(32,"input",17),t(33,"label",18),s(34," I agree to the "),t(35,"a",19),s(36," terms of service "),i(),s(37," and "),t(38,"a",19),s(39," privacy policy "),i()()(),d(40,se,2,1,"div",9),t(41,"div")(42,"button",20),d(43,me,4,0,"span",21),s(44," Create account "),i()(),d(45,de,8,1,"div",22),i()()()),l&2){let u,f,v,y,_,h,x,w,F,b;o(9),a("formGroup",e.registerForm),o(5),a("ngClass",C(14,k,((u=e.registerForm.get("name"))==null?null:u.invalid)&&(((u=e.registerForm.get("name"))==null?null:u.dirty)||((u=e.registerForm.get("name"))==null?null:u.touched)))),o(),a("ngIf",((f=e.registerForm.get("name"))==null?null:f.invalid)&&(((f=e.registerForm.get("name"))==null?null:f.dirty)||((f=e.registerForm.get("name"))==null?null:f.touched))),o(4),a("ngClass",C(16,k,((v=e.registerForm.get("email"))==null?null:v.invalid)&&(((v=e.registerForm.get("email"))==null?null:v.dirty)||((v=e.registerForm.get("email"))==null?null:v.touched)))),o(),a("ngIf",((y=e.registerForm.get("email"))==null?null:y.invalid)&&(((y=e.registerForm.get("email"))==null?null:y.dirty)||((y=e.registerForm.get("email"))==null?null:y.touched))),o(4),a("ngClass",C(18,k,((_=e.registerForm.get("password"))==null?null:_.invalid)&&(((_=e.registerForm.get("password"))==null?null:_.dirty)||((_=e.registerForm.get("password"))==null?null:_.touched)))),o(),a("ngIf",((h=e.registerForm.get("password"))==null?null:h.invalid)&&(((h=e.registerForm.get("password"))==null?null:h.dirty)||((h=e.registerForm.get("password"))==null?null:h.touched))),o(4),a("ngClass",C(20,k,((x=e.registerForm.get("confirmPassword"))==null?null:x.invalid)&&(((x=e.registerForm.get("confirmPassword"))==null?null:x.dirty)||((x=e.registerForm.get("confirmPassword"))==null?null:x.touched))||(e.registerForm.errors==null?null:e.registerForm.errors.passwordsNotMatching))),o(),a("ngIf",((w=e.registerForm.get("confirmPassword"))==null?null:w.invalid)&&(((w=e.registerForm.get("confirmPassword"))==null?null:w.dirty)||((w=e.registerForm.get("confirmPassword"))==null?null:w.touched))||(e.registerForm.errors==null?null:e.registerForm.errors.passwordsNotMatching)),o(2),a("ngClass",C(22,k,((F=e.registerForm.get("terms"))==null?null:F.invalid)&&(((F=e.registerForm.get("terms"))==null?null:F.dirty)||((F=e.registerForm.get("terms"))==null?null:F.touched)))),o(8),a("ngIf",((b=e.registerForm.get("terms"))==null?null:b.invalid)&&(((b=e.registerForm.get("terms"))==null?null:b.dirty)||((b=e.registerForm.get("terms"))==null?null:b.touched))),o(2),a("disabled",e.registerForm.invalid||e.isLoading),o(),a("ngIf",e.isLoading),o(2),a("ngIf",e.errorMessage)}},dependencies:[N,q,T,z,V,K,D,j,G,A,B,Y,Q,H,O],encapsulation:2})}}return r})();export{he as RegisterComponent};
