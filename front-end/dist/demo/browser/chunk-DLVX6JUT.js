import{b as w,c as V,d as j}from"./chunk-R66VNAOS.js";import{a as B,b as M}from"./chunk-EP3PJAGG.js";import"./chunk-WPHHPEL3.js";import{Ga as I,Ha as N,Ia as C,Ka as F,La as L,N as h,O as i,Q as b,R as _,Ua as D,W as x,Xa as O,Z as s,aa as n,ba as r,ca as S,ha as f,ia as y,ka as a,la as g,ma as c,ta as k,ua as E,xa as d,ya as p,za as T}from"./chunk-Y4TBAV6C.js";var A=(t,l)=>({"inline-block p-4 text-primary-600 border-b-2 border-primary-600 rounded-t-lg dark:text-primary-400 dark:border-primary-400":t,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),U=(t,l)=>({"inline-block p-4 text-joy-600 border-b-2 border-joy-600 rounded-t-lg dark:text-joy-400 dark:border-joy-400":t,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),R=(t,l)=>({"inline-block p-4 text-sadness-600 border-b-2 border-sadness-600 rounded-t-lg dark:text-sadness-400 dark:border-sadness-400":t,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),W=(t,l)=>({"inline-block p-4 text-anger-600 border-b-2 border-anger-600 rounded-t-lg dark:text-anger-400 dark:border-anger-400":t,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),$=(t,l)=>({"inline-block p-4 text-fear-600 border-b-2 border-fear-600 rounded-t-lg dark:text-fear-400 dark:border-fear-400":t,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),G=t=>["/events",t];function J(t,l){if(t&1&&(n(0,"div",26),S(1,"img",27),d(2,"translate"),r()),t&2){let e=l.$implicit;i(),s("src",e,h)("alt",p(2,2,"EVENTS.LIST.ATTACHMENT_ALT"))}}function P(t,l){if(t&1&&(n(0,"div",23)(1,"div",24),x(2,J,3,4,"div",25),r()()),t&2){let e=y().$implicit;i(2),s("ngForOf",e.attachments.slice(0,3))}}function z(t,l){if(t&1&&(n(0,"div",12)(1,"p"),a(2),r(),n(3,"div",13)(4,"div",14)(5,"h3",15),a(6),r(),n(7,"span",16),a(8),d(9,"translate"),r()(),n(10,"p",17),a(11),d(12,"date"),r()(),n(13,"p",18),a(14),r(),x(15,P,3,1,"div",19),n(16,"div",20)(17,"div",21)(18,"span",6),a(19),r(),n(20,"span"),a(21),r()(),n(22,"a",22),a(23),d(24,"translate"),r()()()),t&2){let e=l.$implicit;s("ngClass",e.theme),i(2),g(e.theme),i(4),g(e.title),i(2),g(p(9,11,"EVENTS.EMOTIONS."+e.emotion.toUpperCase())),i(3),c(" ",T(12,13,e.createdAt,"medium")," "),i(3),g(e.content),i(),s("ngIf",e.attachments&&e.attachments.length>0),i(4),c("\u{1F4AC} ",e.comments.length,""),i(2),c("\u2764\uFE0F ",e.likes,""),i(),s("routerLink",k(18,G,e.id)),i(),c(" ",p(24,16,"EVENTS.LIST.VIEW_EVENT")," \u2192 ")}}function H(t,l){if(t&1&&(n(0,"div",10),x(1,z,25,20,"div",11),r()),t&2){let e=y();i(),s("ngForOf",e.filteredEvents)}}function Y(t,l){t&1&&(n(0,"div",28)(1,"div",29)(2,"span",30),a(3,"\u{1F4DD}"),r()(),n(4,"h3",31),a(5),d(6,"translate"),r(),n(7,"p",17),a(8),d(9,"translate"),r(),n(10,"div",32)(11,"a",33)(12,"span",6),a(13,"+"),r(),a(14),d(15,"translate"),r()()()),t&2&&(i(5),g(p(6,3,"EVENTS.LIST.NO_EVENTS_FOUND")),i(3),c(" ",p(9,5,"EVENTS.LIST.GET_STARTED")," "),i(6),c(" ",p(15,7,"EVENTS.NEW")," "))}var ne=(()=>{class t{constructor(e,m,o){this.eventService=e,this.emotionService=m,this.translate=o,this.events=[],this.filteredEvents=[],this.activeFilter="all",this.isLoading=!0}ngOnInit(){this.loadEvents()}loadEvents(){let e=JSON.parse(localStorage.getItem("currentUser")||"{}");e&&(console.log("currentUser",e),this.eventService.getEventsByUserId(e.id).subscribe({next:m=>{console.log("events",m),this.events=m,this.filteredEvents=[...this.events],this.isLoading=!1},error:m=>{console.error("Error loading events:",m),this.isLoading=!1}}))}filterEvents(e){this.activeFilter=e,e==="all"?this.filteredEvents=[...this.events]:this.filteredEvents=this.events.filter(m=>m.emotion===e)}getEmotionDisplayName(e){return console.error(e),this.emotionService.getEmotionDisplayName(e)}static{this.\u0275fac=function(m){return new(m||t)(b(M),b(B),b(w))}}static{this.\u0275cmp=_({type:t,selectors:[["app-event-list"]],decls:32,vars:43,consts:[[1,"mx-auto","max-w-7xl"],[1,"mb-8","flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],["routerLink","/events/new",1,"rounded-md","bg-primary-600","px-4","py-2","text-sm","font-medium","text-white","hover:bg-primary-700","dark:bg-primary-700","dark:hover:bg-primary-600"],[1,"mb-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","flex-wrap","-mb-px","text-sm","font-medium","text-center"],[1,"mr-2"],["href","#",3,"click","ngClass"],["class","mt-6 grid gap-6 md:grid-cols-2 lg:grid-cols-3",4,"ngIf"],["class","py-12 text-center",4,"ngIf"],[1,"mt-6","grid","gap-6","md:grid-cols-2","lg:grid-cols-3"],["class","card overflow-hidden",3,"ngClass",4,"ngFor","ngForOf"],[1,"card","overflow-hidden",3,"ngClass"],[1,"mb-4"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"badge-primary"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"line-clamp-3","text-gray-700","dark:text-gray-300"],["class","mt-4",4,"ngIf"],[1,"mt-4","flex","items-center","justify-between","pt-3","border-t","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","text-sm","text-gray-500","dark:text-gray-400"],[1,"text-sm","font-medium","text-primary-600","hover:text-primary-700","dark:text-primary-400","dark:hover:text-primary-300",3,"routerLink"],[1,"mt-4"],[1,"grid","grid-cols-3","gap-2"],["class","relative h-20 overflow-hidden rounded-md",4,"ngFor","ngForOf"],[1,"relative","h-20","overflow-hidden","rounded-md"],[1,"h-full","w-full","object-cover",3,"src","alt"],[1,"py-12","text-center"],[1,"flex","justify-center"],[1,"text-4xl"],[1,"mt-2","text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"mt-6"],["routerLink","/events/new",1,"inline-flex","items-center","rounded-md","bg-primary-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-primary-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-primary-600","dark:bg-primary-700","dark:hover:bg-primary-600"]],template:function(m,o){m&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),a(3),d(4,"translate"),r(),n(5,"a",3),a(6),d(7,"translate"),r()(),n(8,"div",4)(9,"ul",5)(10,"li",6)(11,"a",7),f("click",function(v){return o.filterEvents("all"),v.preventDefault()}),a(12),d(13,"translate"),r()(),n(14,"li",6)(15,"a",7),f("click",function(v){return o.filterEvents("joy"),v.preventDefault()}),a(16),d(17,"translate"),r()(),n(18,"li",6)(19,"a",7),f("click",function(v){return o.filterEvents("sadness"),v.preventDefault()}),a(20),d(21,"translate"),r()(),n(22,"li",6)(23,"a",7),f("click",function(v){return o.filterEvents("anger"),v.preventDefault()}),a(24),d(25,"translate"),r()(),n(26,"li")(27,"a",7),f("click",function(v){return o.filterEvents("fear"),v.preventDefault()}),a(28),d(29,"translate"),r()()()(),x(30,H,2,1,"div",8)(31,Y,16,9,"div",9),r()),m&2&&(i(3),g(p(4,14,"EVENTS.LIST.TITLE")),i(3),c(" ",p(7,16,"EVENTS.NEW")," "),i(5),s("ngClass",E(28,A,o.activeFilter==="all",o.activeFilter!=="all")),i(),c(" ",p(13,18,"EVENTS.LIST.FILTERS.ALL")," "),i(3),s("ngClass",E(31,U,o.activeFilter==="joy",o.activeFilter!=="joy")),i(),c(" ",p(17,20,"EVENTS.EMOTIONS.JOY")," "),i(3),s("ngClass",E(34,R,o.activeFilter==="sadness",o.activeFilter!=="sadness")),i(),c(" ",p(21,22,"EVENTS.EMOTIONS.SADNESS")," "),i(3),s("ngClass",E(37,W,o.activeFilter==="anger",o.activeFilter!=="anger")),i(),c(" ",p(25,24,"EVENTS.EMOTIONS.ANGER")," "),i(3),s("ngClass",E(40,$,o.activeFilter==="fear",o.activeFilter!=="fear")),i(),c(" ",p(29,26,"EVENTS.EMOTIONS.FEAR")," "),i(2),s("ngIf",o.filteredEvents.length>0),i(),s("ngIf",o.filteredEvents.length===0))},dependencies:[L,I,N,C,F,O,D,j,V],encapsulation:2})}}return t})();export{ne as EventListComponent};
