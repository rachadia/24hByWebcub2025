import{a as $}from"./chunk-5RRDVB6N.js";import{a as D,b as U,c as u,d as H,e as O,h as Y,i as J,j as K,n as Q,o as W,p as X,q as Z}from"./chunk-6QK7JL3M.js";import"./chunk-WPHHPEL3.js";import{Ga as z,H as T,I as M,Ia as V,La as G,O as a,Q as q,R as P,Ta as j,Ua as A,W as d,Xa as B,Z as o,aa as i,ba as t,ca as p,ha as L,ia as c,ka as s,la as N,ta as _}from"./chunk-Y4TBAV6C.js";var y=r=>({"border-red-500 dark:border-red-400":r});function ee(r,m){r&1&&(i(0,"div"),s(1,"First name is required"),t())}function re(r,m){if(r&1&&(i(0,"div",27),d(1,ee,2,0,"div",28),t()),r&2){let n,l=c();a(),o("ngIf",(n=l.registerForm.get("first_name"))==null||n.errors==null?null:n.errors.required)}}function te(r,m){r&1&&(i(0,"div"),s(1,"Last name is required"),t())}function ie(r,m){if(r&1&&(i(0,"div",27),d(1,te,2,0,"div",28),t()),r&2){let n,l=c();a(),o("ngIf",(n=l.registerForm.get("last_name"))==null||n.errors==null?null:n.errors.required)}}function ne(r,m){r&1&&(i(0,"div"),s(1,"Username is required"),t())}function le(r,m){r&1&&(i(0,"div"),s(1,"Username must be at least 3 characters"),t())}function ae(r,m){if(r&1&&(i(0,"div",27),d(1,ne,2,0,"div",28)(2,le,2,0,"div",28),t()),r&2){let n,l,e=c();a(),o("ngIf",(n=e.registerForm.get("username"))==null||n.errors==null?null:n.errors.required),a(),o("ngIf",(l=e.registerForm.get("username"))==null||l.errors==null?null:l.errors.minlength)}}function oe(r,m){r&1&&(i(0,"div"),s(1,"Email is required"),t())}function se(r,m){r&1&&(i(0,"div"),s(1,"Must be a valid email address"),t())}function me(r,m){if(r&1&&(i(0,"div",27),d(1,oe,2,0,"div",28)(2,se,2,0,"div",28),t()),r&2){let n,l,e=c();a(),o("ngIf",(n=e.registerForm.get("email"))==null||n.errors==null?null:n.errors.required),a(),o("ngIf",(l=e.registerForm.get("email"))==null||l.errors==null?null:l.errors.email)}}function de(r,m){r&1&&(i(0,"div"),s(1,"Password is required"),t())}function ue(r,m){r&1&&(i(0,"div"),s(1," Password must be at least 6 characters "),t())}function pe(r,m){if(r&1&&(i(0,"div",27),d(1,de,2,0,"div",28)(2,ue,2,0,"div",28),t()),r&2){let n,l,e=c();a(),o("ngIf",(n=e.registerForm.get("password"))==null||n.errors==null?null:n.errors.required),a(),o("ngIf",(l=e.registerForm.get("password"))==null||l.errors==null?null:l.errors.minlength)}}function ge(r,m){r&1&&(i(0,"div"),s(1," Confirm password is required "),t())}function ce(r,m){r&1&&(i(0,"div"),s(1," Passwords must match "),t())}function fe(r,m){if(r&1&&(i(0,"div",27),d(1,ge,2,0,"div",28)(2,ce,2,0,"div",28),t()),r&2){let n,l=c();a(),o("ngIf",(n=l.registerForm.get("confirmPassword"))==null||n.errors==null?null:n.errors.required),a(),o("ngIf",l.registerForm.errors==null?null:l.registerForm.errors.passwordsNotMatching)}}function ve(r,m){r&1&&(i(0,"div"),s(1," You must agree to the terms "),t())}function _e(r,m){if(r&1&&(i(0,"div",27),d(1,ve,2,0,"div",28),t()),r&2){let n,l=c();a(),o("ngIf",(n=l.registerForm.get("terms"))==null||n.errors==null?null:n.errors.required)}}function ye(r,m){r&1&&(i(0,"span",29),T(),i(1,"svg",30),p(2,"circle",31)(3,"path",32),t()())}function he(r,m){if(r&1&&(i(0,"div",33)(1,"div",34)(2,"div",35),T(),i(3,"svg",36),p(4,"path",37),t()(),M(),i(5,"div",38)(6,"h3",39),s(7),t()()()()),r&2){let n=c();a(7),N(n.errorMessage)}}var Ie=(()=>{class r{constructor(n,l,e){this.formBuilder=n,this.authService=l,this.router=e,this.isLoading=!1,this.errorMessage="",this.registerForm=this.formBuilder.group({first_name:["",u.required],last_name:["",u.required],username:["",[u.required,u.minLength(3)]],email:["",[u.required,u.email]],password:["",[u.required,u.minLength(6)]],confirmPassword:["",u.required],terms:[!1,u.requiredTrue]},{validators:this.passwordMatchValidator})}passwordMatchValidator(n){let l=n.get("password")?.value,e=n.get("confirmPassword")?.value;return l===e?null:{passwordsNotMatching:!0}}onSubmit(){if(this.registerForm.invalid)return;this.isLoading=!0,this.errorMessage="";let{first_name:n,last_name:l,username:e,email:g,password:f}=this.registerForm.value;this.authService.register(n,l,e,g,f).subscribe({next:()=>{this.router.navigate(["/"])},error:v=>{this.errorMessage=v.message||"An error occurred during registration. Please try again.",this.isLoading=!1},complete:()=>{this.isLoading=!1}})}static{this.\u0275fac=function(l){return new(l||r)(q(W),q($),q(j))}}static{this.\u0275cmp=P({type:r,selectors:[["app-register"]],decls:56,vars:32,consts:[[1,"flex","min-h-[80vh]","items-center","justify-center","py-12","px-4","sm:px-6","lg:px-8"],[1,"w-full","max-w-md","space-y-8"],[1,"mt-6","text-center","text-3xl","font-bold","tracking-tight","text-gray-900","dark:text-white"],[1,"mt-2","text-center","text-sm","text-gray-600","dark:text-gray-400"],["routerLink","/auth/login",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],[1,"mt-8","space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],["for","first_name",1,"sr-only"],["id","first_name","name","first_name","type","text","formControlName","first_name","autocomplete","given-name","required","","placeholder","First name",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],["class","mt-1 text-sm text-red-600 dark:text-red-400",4,"ngIf"],["for","last_name",1,"sr-only"],["id","last_name","name","last_name","type","text","formControlName","last_name","autocomplete","family-name","required","","placeholder","Last name",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],["for","username",1,"sr-only"],["id","username","name","username","type","text","formControlName","username","autocomplete","username","required","","placeholder","Username",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],["for","email-address",1,"sr-only"],["id","email-address","name","email","type","email","formControlName","email","autocomplete","email","required","","placeholder","Email address",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],["for","password",1,"sr-only"],["id","password","name","password","type","password","formControlName","password","autocomplete","new-password","required","","placeholder","Password",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],["for","confirmPassword",1,"sr-only"],["id","confirmPassword","name","confirmPassword","type","password","formControlName","confirmPassword","autocomplete","new-password","required","","placeholder","Confirm Password",1,"input","relative","block","w-full","rounded-md","border-gray-300","px-3","py-2","text-gray-900","placeholder-gray-500","focus:z-10","focus:border-primary-500","focus:outline-none","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700","dark:text-white","dark:placeholder-gray-400","sm:text-sm",3,"ngClass"],[1,"flex","items-center"],["id","terms","name","terms","type","checkbox","formControlName","terms",1,"h-4","w-4","rounded","border-gray-300","text-primary-600","focus:ring-primary-500","dark:border-gray-600","dark:bg-gray-700",3,"ngClass"],["for","terms",1,"ml-2","block","text-sm","text-gray-900","dark:text-gray-300"],["href","#",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],["type","submit",1,"group","relative","flex","w-full","justify-center","rounded-md","border","border-transparent","bg-primary-600","py-2","px-4","text-sm","font-medium","text-white","hover:bg-primary-700","focus:outline-none","focus:ring-2","focus:ring-primary-500","focus:ring-offset-2","disabled:opacity-70","dark:bg-primary-700","dark:hover:bg-primary-600",3,"disabled"],["class","absolute inset-y-0 left-0 flex items-center pl-3",4,"ngIf"],["class","rounded-md bg-red-50 p-4 dark:bg-red-900/20",4,"ngIf"],[1,"mt-1","text-sm","text-red-600","dark:text-red-400"],[4,"ngIf"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 24 24","fill","none",1,"h-5","w-5","animate-spin","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"rounded-md","bg-red-50","p-4","dark:bg-red-900/20"],[1,"flex"],[1,"flex-shrink-0"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 20 20","fill","currentColor","aria-hidden","true",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","font-medium","text-red-800","dark:text-red-200"]],template:function(l,e){if(l&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h2",2),s(4," Create your account "),t(),i(5,"p",3),s(6," Or "),i(7,"a",4),s(8," sign in to your existing account "),t()()(),i(9,"form",5),L("ngSubmit",function(){return e.onSubmit()}),i(10,"div",6)(11,"div")(12,"label",7),s(13,"First name"),t(),p(14,"input",8),d(15,re,2,1,"div",9),t(),i(16,"div")(17,"label",10),s(18,"Last name"),t(),p(19,"input",11),d(20,ie,2,1,"div",9),t(),i(21,"div")(22,"label",12),s(23,"Username"),t(),p(24,"input",13),d(25,ae,3,2,"div",9),t(),i(26,"div")(27,"label",14),s(28,"Email address"),t(),p(29,"input",15),d(30,me,3,2,"div",9),t(),i(31,"div")(32,"label",16),s(33,"Password"),t(),p(34,"input",17),d(35,pe,3,2,"div",9),t(),i(36,"div")(37,"label",18),s(38,"Confirm Password"),t(),p(39,"input",19),d(40,fe,3,2,"div",9),t()(),i(41,"div",20),p(42,"input",21),i(43,"label",22),s(44," I agree to the "),i(45,"a",23),s(46," terms of service "),t(),s(47," and "),i(48,"a",23),s(49," privacy policy "),t()()(),d(50,_e,2,1,"div",9),i(51,"div")(52,"button",24),d(53,ye,4,0,"span",25),s(54," Create account "),t()(),d(55,he,8,1,"div",26),t()()()),l&2){let g,f,v,h,x,w,F,b,C,k,S,E,I,R;a(9),o("formGroup",e.registerForm),a(5),o("ngClass",_(18,y,((g=e.registerForm.get("first_name"))==null?null:g.invalid)&&(((g=e.registerForm.get("first_name"))==null?null:g.dirty)||((g=e.registerForm.get("first_name"))==null?null:g.touched)))),a(),o("ngIf",((f=e.registerForm.get("first_name"))==null?null:f.invalid)&&(((f=e.registerForm.get("first_name"))==null?null:f.dirty)||((f=e.registerForm.get("first_name"))==null?null:f.touched))),a(4),o("ngClass",_(20,y,((v=e.registerForm.get("last_name"))==null?null:v.invalid)&&(((v=e.registerForm.get("last_name"))==null?null:v.dirty)||((v=e.registerForm.get("last_name"))==null?null:v.touched)))),a(),o("ngIf",((h=e.registerForm.get("last_name"))==null?null:h.invalid)&&(((h=e.registerForm.get("last_name"))==null?null:h.dirty)||((h=e.registerForm.get("last_name"))==null?null:h.touched))),a(4),o("ngClass",_(22,y,((x=e.registerForm.get("username"))==null?null:x.invalid)&&(((x=e.registerForm.get("username"))==null?null:x.dirty)||((x=e.registerForm.get("username"))==null?null:x.touched)))),a(),o("ngIf",((w=e.registerForm.get("username"))==null?null:w.invalid)&&(((w=e.registerForm.get("username"))==null?null:w.dirty)||((w=e.registerForm.get("username"))==null?null:w.touched))),a(4),o("ngClass",_(24,y,((F=e.registerForm.get("email"))==null?null:F.invalid)&&(((F=e.registerForm.get("email"))==null?null:F.dirty)||((F=e.registerForm.get("email"))==null?null:F.touched)))),a(),o("ngIf",((b=e.registerForm.get("email"))==null?null:b.invalid)&&(((b=e.registerForm.get("email"))==null?null:b.dirty)||((b=e.registerForm.get("email"))==null?null:b.touched))),a(4),o("ngClass",_(26,y,((C=e.registerForm.get("password"))==null?null:C.invalid)&&(((C=e.registerForm.get("password"))==null?null:C.dirty)||((C=e.registerForm.get("password"))==null?null:C.touched)))),a(),o("ngIf",((k=e.registerForm.get("password"))==null?null:k.invalid)&&(((k=e.registerForm.get("password"))==null?null:k.dirty)||((k=e.registerForm.get("password"))==null?null:k.touched))),a(4),o("ngClass",_(28,y,((S=e.registerForm.get("confirmPassword"))==null?null:S.invalid)&&(((S=e.registerForm.get("confirmPassword"))==null?null:S.dirty)||((S=e.registerForm.get("confirmPassword"))==null?null:S.touched))||(e.registerForm.errors==null?null:e.registerForm.errors.passwordsNotMatching))),a(),o("ngIf",((E=e.registerForm.get("confirmPassword"))==null?null:E.invalid)&&(((E=e.registerForm.get("confirmPassword"))==null?null:E.dirty)||((E=e.registerForm.get("confirmPassword"))==null?null:E.touched))||(e.registerForm.errors==null?null:e.registerForm.errors.passwordsNotMatching)),a(2),o("ngClass",_(30,y,((I=e.registerForm.get("terms"))==null?null:I.invalid)&&(((I=e.registerForm.get("terms"))==null?null:I.dirty)||((I=e.registerForm.get("terms"))==null?null:I.touched)))),a(8),o("ngIf",((R=e.registerForm.get("terms"))==null?null:R.invalid)&&(((R=e.registerForm.get("terms"))==null?null:R.dirty)||((R=e.registerForm.get("terms"))==null?null:R.touched))),a(2),o("disabled",e.registerForm.invalid||e.isLoading),a(),o("ngIf",e.isLoading),a(2),o("ngIf",e.errorMessage)}},dependencies:[G,z,V,B,A,X,Y,U,D,H,O,Q,Z,J,K],encapsulation:2})}}return r})();export{Ie as RegisterComponent};
