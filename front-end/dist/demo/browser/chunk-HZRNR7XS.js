import{a as U}from"./chunk-V6RCJ4KD.js";import{p as P}from"./chunk-OX6UQBEQ.js";import{b as F}from"./chunk-OKNTIUW6.js";import"./chunk-WPHHPEL3.js";import{i as C,l as j}from"./chunk-55S3SV57.js";import{$b as _,Bb as h,Ca as v,Cb as b,Ea as a,Eb as k,Ia as p,Na as u,Sa as x,Xb as E,Yb as S,Zb as w,_b as I,bb as l,eb as t,fb as i,gb as f,jb as g,ob as n,pb as c,qb as m,xb as y}from"./chunk-ZHZY3XIT.js";var T=(r,s,e,d,o)=>({"bg-joy-100 text-joy-800 dark:bg-joy-900 dark:text-joy-300":r,"bg-sadness-100 text-sadness-800 dark:bg-sadness-900 dark:text-sadness-300":s,"bg-anger-100 text-anger-800 dark:bg-anger-900 dark:text-anger-300":e,"bg-fear-100 text-fear-800 dark:bg-fear-900 dark:text-fear-300":d,"bg-intensity-100 text-intensity-800 dark:bg-intensity-900 dark:text-intensity-300":o}),A=r=>["/events",r];function L(r,s){if(r&1&&f(0,"img",33),r&2){let e=g(2);l("src",e.currentUser.profileImage,v)}}function M(r,s){if(r&1&&(t(0,"div",34),n(1),i()),r&2){let e=g(2);a(),m(" ",e.currentUser.name.charAt(0)," ")}}function N(r,s){if(r&1&&(t(0,"div",22)(1,"div",23)(2,"div",24)(3,"div",25),x(4,L,1,1,"img",26)(5,M,2,1,"div",27),i(),t(6,"div",28)(7,"p",29),n(8,"Welcome back,"),i(),t(9,"p",30),n(10),i(),t(11,"p",29),n(12),i()()(),t(13,"div",31)(14,"a",32),n(15," Edit Profile "),i()()()()),r&2){let e=g();a(4),l("ngIf",e.currentUser.profileImage),a(),l("ngIf",!e.currentUser.profileImage),a(5),c(e.currentUser.name),a(2),c(e.currentUser.email)}}function O(r,s){r&1&&f(0,"span",45)}function D(r,s){if(r&1&&(t(0,"li")(1,"div",35),x(2,O,1,0,"span",36),t(3,"div",37)(4,"div")(5,"span",38),n(6),i()(),t(7,"div",39)(8,"div")(9,"div",40)(10,"a",41),n(11),i()(),t(12,"p",42),n(13),b(14,"date"),i()(),t(15,"div",43)(16,"p",44),n(17),i()()()()()()),r&2){let e=s.$implicit,d=s.index,o=g();a(2),l("ngIf",d!==o.events.slice(0,5).length-1),a(3),l("ngClass",h(10,T,e.emotion==="joy",e.emotion==="sadness",e.emotion==="anger",e.emotion==="fear",e.emotion==="intensity")),a(),m(" ",o.getEmotionIcon(e.emotion)," "),a(4),l("routerLink",y(16,A,e.id)),a(),m(" ",e.title," "),a(2),m(" ",k(14,7,e.createdAt,"medium")," "),a(4),c(e.content)}}function J(r,s){r&1&&(t(0,"li")(1,"div",46)(2,"p",47),n(3,"No activity yet. Create your first event!"),i()()())}var H=(()=>{class r{constructor(e,d){this.authService=e,this.eventService=d,this.currentUser=null,this.events=[],this.isLoading=!0}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.loadEvents()}loadEvents(){this.eventService.getEvents().subscribe({next:e=>{this.events=e,this.isLoading=!1},error:e=>{console.error("Error loading events:",e),this.isLoading=!1}})}getEmotionIcon(e){switch(e){case"joy":return"\u{1F60A}";case"sadness":return"\u{1F622}";case"anger":return"\u{1F621}";case"fear":return"\u{1F628}";case"intensity":return"\u26A1";default:return"\u{1F610}"}}getJoyEventsCount(){return this.events.filter(e=>e.emotion==="joy").length}getSadEventsCount(){return this.events.filter(e=>e.emotion==="sadness").length}getAngryEventsCount(){return this.events.filter(e=>e.emotion==="anger").length}getFearEventsCount(){return this.events.filter(e=>e.emotion==="fear").length}getIntensityEventsCount(){return this.events.filter(e=>e.emotion==="intensity").length}static{this.\u0275fac=function(d){return new(d||r)(p(U),p(F))}}static{this.\u0275cmp=u({type:r,selectors:[["app-profile"]],decls:45,vars:8,consts:[[1,"mx-auto","max-w-7xl"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],["class","mb-8 rounded-lg bg-white p-6 shadow-elevation-1 dark:bg-gray-800",4,"ngIf"],[1,"mb-8","rounded-lg","bg-white","shadow-elevation-1","dark:bg-gray-800"],[1,"px-6","py-4","border-b","border-gray-200","dark:border-gray-700"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mb-8","grid","grid-cols-1","gap-5","sm:grid-cols-2","lg:grid-cols-5"],[1,"overflow-hidden","rounded-lg","bg-white","p-5","shadow-elevation-1","dark:bg-gray-800"],[1,"truncate","text-sm","font-medium","text-gray-500","dark:text-gray-400"],[1,"mt-1","text-3xl","font-semibold","text-gray-900","dark:text-white"],[1,"mt-1","text-3xl","font-semibold","text-joy-600","dark:text-joy-400"],[1,"mt-1","text-3xl","font-semibold","text-sadness-600","dark:text-sadness-400"],[1,"mt-1","text-3xl","font-semibold","text-anger-600","dark:text-anger-400"],[1,"mt-1","text-3xl","font-semibold","text-intensity-600","dark:text-intensity-400"],[1,"rounded-lg","bg-white","p-6","shadow-elevation-1","dark:bg-gray-800"],[1,"mt-6","flow-root"],["role","list",1,"-mb-8"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-6"],["routerLink","/events",1,"flex","w-full","items-center","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-medium","text-primary-600","shadow-sm","hover:bg-gray-50","dark:bg-gray-700","dark:text-primary-400","dark:hover:bg-gray-600"],[1,"mb-8","rounded-lg","bg-white","p-6","shadow-elevation-1","dark:bg-gray-800"],[1,"sm:flex","sm:items-center","sm:justify-between"],[1,"sm:flex","sm:space-x-5"],[1,"flex-shrink-0"],["alt","","class","mx-auto h-20 w-20 rounded-full object-cover",3,"src",4,"ngIf"],["class","mx-auto flex h-20 w-20 items-center justify-center rounded-full bg-primary-100 text-2xl font-semibold text-primary-800 dark:bg-primary-900 dark:text-primary-200",4,"ngIf"],[1,"mt-4","text-center","sm:mt-0","sm:pt-1","sm:text-left"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","sm:text-2xl"],[1,"mt-5","flex","justify-center","sm:mt-0"],["href","#",1,"flex","items-center","justify-center","rounded-md","border","border-gray-300","bg-white","px-4","py-2","text-sm","font-medium","text-gray-700","shadow-sm","hover:bg-gray-50","dark:border-gray-600","dark:bg-gray-700","dark:text-gray-200","dark:hover:bg-gray-600"],["alt","",1,"mx-auto","h-20","w-20","rounded-full","object-cover",3,"src"],[1,"mx-auto","flex","h-20","w-20","items-center","justify-center","rounded-full","bg-primary-100","text-2xl","font-semibold","text-primary-800","dark:bg-primary-900","dark:text-primary-200"],[1,"relative","pb-8"],["class","absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden","true",4,"ngIf"],[1,"relative","flex","space-x-3"],[1,"flex","h-8","w-8","items-center","justify-center","rounded-full",3,"ngClass"],[1,"min-w-0","flex-1"],[1,"text-sm"],[1,"font-medium","text-gray-900","dark:text-white",3,"routerLink"],[1,"mt-0.5","text-sm","text-gray-500","dark:text-gray-400"],[1,"mt-2","text-sm","text-gray-700","dark:text-gray-300"],[1,"line-clamp-2"],["aria-hidden","true",1,"absolute","top-4","left-4","-ml-px","h-full","w-0.5","bg-gray-200","dark:bg-gray-700"],[1,"py-4","text-center"],[1,"text-gray-500","dark:text-gray-400"]],template:function(d,o){d&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"My Profile"),i()(),x(4,N,16,4,"div",3),t(5,"div",4)(6,"div",5)(7,"h2",6),n(8,"Personnalisation du th\xE8me"),i()()(),t(9,"div",7)(10,"div",8)(11,"dt",9),n(12,"Total Events"),i(),t(13,"dd",10),n(14),i()(),t(15,"div",8)(16,"dt",9),n(17,"Joy Events"),i(),t(18,"dd",11),n(19),i()(),t(20,"div",8)(21,"dt",9),n(22,"Sad Events"),i(),t(23,"dd",12),n(24),i()(),t(25,"div",8)(26,"dt",9),n(27,"Angry Events"),i(),t(28,"dd",13),n(29),i()(),t(30,"div",8)(31,"dt",9),n(32,"Intense Events"),i(),t(33,"dd",14),n(34),i()()(),t(35,"div",15)(36,"h2",6),n(37,"Recent Activity"),i(),t(38,"div",16)(39,"ul",17),x(40,D,18,18,"li",18)(41,J,4,0,"li",19),i()(),t(42,"div",20)(43,"a",21),n(44," View all "),i()()()()),d&2&&(a(4),l("ngIf",o.currentUser),a(10),c(o.events.length),a(5),m(" ",o.getJoyEventsCount()," "),a(5),m(" ",o.getSadEventsCount()," "),a(5),m(" ",o.getAngryEventsCount()," "),a(5),m(" ",o.getIntensityEventsCount()," "),a(6),l("ngForOf",o.events.slice(0,5)),a(),l("ngIf",o.events.length===0))},dependencies:[_,E,S,w,I,j,C,P],encapsulation:2})}}return r})();export{H as ProfileComponent};
