import{a as T,b as N}from"./chunk-E24AH63J.js";import{A as y,B as a,Ba as j,D as b,E as h,I as p,L as d,N as r,O as i,P as E,R as v,S as f,U as n,V as u,W as x,ba as _,ca as c,fa as k,ga as C,na as F,oa as S,pa as w,qa as L,ra as D,ya as I}from"./chunk-K65JTHMW.js";var O=(e,l)=>({"inline-block p-4 text-primary-600 border-b-2 border-primary-600 rounded-t-lg dark:text-primary-400 dark:border-primary-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),A=(e,l)=>({"inline-block p-4 text-joy-600 border-b-2 border-joy-600 rounded-t-lg dark:text-joy-400 dark:border-joy-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),M=(e,l)=>({"inline-block p-4 text-sadness-600 border-b-2 border-sadness-600 rounded-t-lg dark:text-sadness-400 dark:border-sadness-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),$=(e,l)=>({"inline-block p-4 text-anger-600 border-b-2 border-anger-600 rounded-t-lg dark:text-anger-400 dark:border-anger-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),R=(e,l)=>({"inline-block p-4 text-fear-600 border-b-2 border-fear-600 rounded-t-lg dark:text-fear-400 dark:border-fear-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),z=e=>["/events",e];function B(e,l){if(e&1&&(r(0,"div",26),E(1,"img",27),i()),e&2){let t=l.$implicit;a(),d("src",t,y)}}function G(e,l){if(e&1&&(r(0,"div",23)(1,"div",24),p(2,B,2,1,"div",25),i()()),e&2){let t=f().$implicit;a(2),d("ngForOf",t.attachments.slice(0,3))}}function J(e,l){if(e&1&&(r(0,"div",12)(1,"div",13)(2,"div",14)(3,"h3",15),n(4),i(),r(5,"span",16),n(6),i()(),r(7,"p",17),n(8),k(9,"date"),i()(),r(10,"p",18),n(11),i(),p(12,G,3,1,"div",19),r(13,"div",20)(14,"div",21)(15,"span",6),n(16),i(),r(17,"span"),n(18),i()(),r(19,"a",22),n(20," View Event \u2192 "),i()()()),e&2){let t=l.$implicit,s=f(2);d("ngClass",t.theme),a(4),u(t.title),a(2),u(s.getEmotionDisplayName(t.emotion)),a(2),x(" ",C(9,9,t.createdAt,"medium")," "),a(3),u(t.content),a(),d("ngIf",t.attachments&&t.attachments.length>0),a(4),x("\u{1F4AC} ",t.comments.length,""),a(2),x("\u2764\uFE0F ",t.likes,""),a(),d("routerLink",_(12,z,t.id))}}function P(e,l){if(e&1&&(r(0,"div",10),p(1,J,21,14,"div",11),i()),e&2){let t=f();a(),d("ngForOf",t.filteredEvents)}}function U(e,l){e&1&&(r(0,"div",28)(1,"div",29)(2,"span",30),n(3,"\u{1F4DD}"),i()(),r(4,"h3",31),n(5,"No events found"),i(),r(6,"p",17),n(7," Get started by creating a new event. "),i(),r(8,"div",32)(9,"a",33)(10,"span",6),n(11,"+"),i(),n(12," New Event "),i()()())}var Y=(()=>{class e{constructor(t,s){this.eventService=t,this.emotionService=s,this.events=[],this.filteredEvents=[],this.activeFilter="all",this.isLoading=!0}ngOnInit(){this.loadEvents()}loadEvents(){this.eventService.getEvents().subscribe({next:t=>{this.events=t,this.filteredEvents=[...this.events],this.isLoading=!1},error:t=>{console.error("Error loading events:",t),this.isLoading=!1}})}filterEvents(t){this.activeFilter=t,t==="all"?this.filteredEvents=[...this.events]:this.filteredEvents=this.events.filter(s=>s.emotion===t)}getEmotionDisplayName(t){return this.emotionService.getEmotionDisplayName(t)}static{this.\u0275fac=function(s){return new(s||e)(b(N),b(T))}}static{this.\u0275cmp=h({type:e,selectors:[["app-event-list"]],decls:25,vars:22,consts:[[1,"mx-auto","max-w-7xl"],[1,"mb-8","flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],["routerLink","/events/new",1,"rounded-md","bg-primary-600","px-4","py-2","text-sm","font-medium","text-white","hover:bg-primary-700","dark:bg-primary-700","dark:hover:bg-primary-600"],[1,"mb-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","flex-wrap","-mb-px","text-sm","font-medium","text-center"],[1,"mr-2"],["href","#",3,"click","ngClass"],["class","mt-6 grid gap-6 md:grid-cols-2 lg:grid-cols-3",4,"ngIf"],["class","py-12 text-center",4,"ngIf"],[1,"mt-6","grid","gap-6","md:grid-cols-2","lg:grid-cols-3"],["class","card overflow-hidden",3,"ngClass",4,"ngFor","ngForOf"],[1,"card","overflow-hidden",3,"ngClass"],[1,"mb-4"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"badge-primary"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"line-clamp-3","text-gray-700","dark:text-gray-300"],["class","mt-4",4,"ngIf"],[1,"mt-4","flex","items-center","justify-between","pt-3","border-t","border-gray-200","dark:border-gray-700"],[1,"flex","items-center","text-sm","text-gray-500","dark:text-gray-400"],[1,"text-sm","font-medium","text-primary-600","hover:text-primary-700","dark:text-primary-400","dark:hover:text-primary-300",3,"routerLink"],[1,"mt-4"],[1,"grid","grid-cols-3","gap-2"],["class","relative h-20 overflow-hidden rounded-md",4,"ngFor","ngForOf"],[1,"relative","h-20","overflow-hidden","rounded-md"],["alt","Attachment",1,"h-full","w-full","object-cover",3,"src"],[1,"py-12","text-center"],[1,"flex","justify-center"],[1,"text-4xl"],[1,"mt-2","text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"mt-6"],["routerLink","/events/new",1,"inline-flex","items-center","rounded-md","bg-primary-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-primary-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-primary-600","dark:bg-primary-700","dark:hover:bg-primary-600"]],template:function(s,o){s&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"My Events"),i(),r(4,"a",3),n(5," Create New Event "),i()(),r(6,"div",4)(7,"ul",5)(8,"li",6)(9,"a",7),v("click",function(m){return o.filterEvents("all"),m.preventDefault()}),n(10," All Events "),i()(),r(11,"li",6)(12,"a",7),v("click",function(m){return o.filterEvents("joy"),m.preventDefault()}),n(13," Joy "),i()(),r(14,"li",6)(15,"a",7),v("click",function(m){return o.filterEvents("sadness"),m.preventDefault()}),n(16," Sadness "),i()(),r(17,"li",6)(18,"a",7),v("click",function(m){return o.filterEvents("anger"),m.preventDefault()}),n(19," Anger "),i()(),r(20,"li")(21,"a",7),v("click",function(m){return o.filterEvents("fear"),m.preventDefault()}),n(22," Fear "),i()()()(),p(23,P,2,1,"div",8)(24,U,13,0,"div",9),i()),s&2&&(a(9),d("ngClass",c(7,O,o.activeFilter==="all",o.activeFilter!=="all")),a(3),d("ngClass",c(10,A,o.activeFilter==="joy",o.activeFilter!=="joy")),a(3),d("ngClass",c(13,M,o.activeFilter==="sadness",o.activeFilter!=="sadness")),a(3),d("ngClass",c(16,$,o.activeFilter==="anger",o.activeFilter!=="anger")),a(3),d("ngClass",c(19,R,o.activeFilter==="fear",o.activeFilter!=="fear")),a(2),d("ngIf",o.filteredEvents.length>0),a(),d("ngIf",o.filteredEvents.length===0))},dependencies:[D,F,S,w,L,j,I],encapsulation:2})}}return e})();export{Y as EventListComponent};
