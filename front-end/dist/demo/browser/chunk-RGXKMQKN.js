import{a as U}from"./chunk-FPV3HB4M.js";import{p as P}from"./chunk-GIPP6JLH.js";import{b as F}from"./chunk-ER2TAIA3.js";import"./chunk-WPHHPEL3.js";import{$ as n,Ba as E,Ca as w,Da as S,Ea as _,Fa as I,M as v,N as a,Oa as C,P as p,Q as u,Ra as j,V as x,Y as l,_ as t,aa as f,da as g,fa as r,ga as c,ha as m,oa as y,ra as h,sa as b,ua as k}from"./chunk-7B2THDHR.js";var T=(i,s,e,o)=>({"bg-joy-100 text-joy-800 dark:bg-joy-900 dark:text-joy-300":i,"bg-sadness-100 text-sadness-800 dark:bg-sadness-900 dark:text-sadness-300":s,"bg-anger-100 text-anger-800 dark:bg-anger-900 dark:text-anger-300":e,"bg-fear-100 text-fear-800 dark:bg-fear-900 dark:text-fear-300":o}),A=i=>["/events",i];function L(i,s){if(i&1&&f(0,"img",30),i&2){let e=g(2);l("src",e.currentUser.profileImage,v)}}function M(i,s){if(i&1&&(t(0,"div",31),r(1),n()),i&2){let e=g(2);a(),m(" ",e.currentUser.username.charAt(0)," ")}}function N(i,s){if(i&1&&(t(0,"div",19)(1,"div",20)(2,"div",21)(3,"div",22),x(4,L,1,1,"img",23)(5,M,2,1,"div",24),n(),t(6,"div",25)(7,"p",26),r(8,"Welcome back,"),n(),t(9,"p",27),r(10),n(),t(11,"p",26),r(12),n()()(),t(13,"div",28)(14,"a",29),r(15," Edit Profile "),n()()()()),i&2){let e=g();a(4),l("ngIf",e.currentUser.profileImage),a(),l("ngIf",!e.currentUser.profileImage),a(5),c(e.currentUser.username),a(2),c(e.currentUser.email)}}function O(i,s){i&1&&f(0,"span",42)}function D(i,s){if(i&1&&(t(0,"li")(1,"div",32),x(2,O,1,0,"span",33),t(3,"div",34)(4,"div")(5,"span",35),r(6),n()(),t(7,"div",36)(8,"div")(9,"div",37)(10,"a",38),r(11),n()(),t(12,"p",39),r(13),b(14,"date"),n()(),t(15,"div",40)(16,"p",41),r(17),n()()()()()()),i&2){let e=s.$implicit,o=s.index,d=g();a(2),l("ngIf",o!==d.events.slice(0,5).length-1),a(3),l("ngClass",h(10,T,e.emotion==="joy",e.emotion==="sadness",e.emotion==="anger",e.emotion==="fear")),a(),m(" ",d.getEmotionIcon(e.emotion)," "),a(4),l("routerLink",y(15,A,e.id)),a(),m(" ",e.title," "),a(2),m(" ",k(14,7,e.createdAt,"medium")," "),a(4),c(e.content)}}function J(i,s){i&1&&(t(0,"li")(1,"div",43)(2,"p",44),r(3,"No activity yet. Create your first event!"),n()()())}var H=(()=>{class i{constructor(e,o){this.authService=e,this.eventService=o,this.currentUser=null,this.events=[],this.isLoading=!0}ngOnInit(){this.currentUser=this.authService.getCurrentUser(),this.loadEvents()}loadEvents(){this.eventService.getEvents().subscribe({next:e=>{this.events=e,this.isLoading=!1},error:e=>{console.error("Error loading events:",e),this.isLoading=!1}})}getEmotionIcon(e){switch(e){case"joy":return"\u{1F60A}";case"sadness":return"\u{1F622}";case"anger":return"\u{1F621}";case"fear":return"\u{1F628}";default:return"\u{1F610}"}}getJoyEventsCount(){return this.events.filter(e=>e.emotion==="joy").length}getSadEventsCount(){return this.events.filter(e=>e.emotion==="sadness").length}getAngryEventsCount(){return this.events.filter(e=>e.emotion==="anger").length}getFearEventsCount(){return this.events.filter(e=>e.emotion==="fear").length}static{this.\u0275fac=function(o){return new(o||i)(p(U),p(F))}}static{this.\u0275cmp=u({type:i,selectors:[["app-profile"]],decls:36,vars:7,consts:[[1,"mx-auto","max-w-7xl"],[1,"mb-8"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],["class","mb-8 rounded-lg bg-white p-6 shadow-elevation-1 dark:bg-gray-800",4,"ngIf"],[1,"mb-8","grid","grid-cols-1","gap-5","sm:grid-cols-2","lg:grid-cols-4"],[1,"overflow-hidden","rounded-lg","bg-white","p-5","shadow-elevation-1","dark:bg-gray-800"],[1,"truncate","text-sm","font-medium","text-gray-500","dark:text-gray-400"],[1,"mt-1","text-3xl","font-semibold","text-gray-900","dark:text-white"],[1,"mt-1","text-3xl","font-semibold","text-joy-600","dark:text-joy-400"],[1,"mt-1","text-3xl","font-semibold","text-sadness-600","dark:text-sadness-400"],[1,"mt-1","text-3xl","font-semibold","text-anger-600","dark:text-anger-400"],[1,"rounded-lg","bg-white","p-6","shadow-elevation-1","dark:bg-gray-800"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],[1,"mt-6","flow-root"],["role","list",1,"-mb-8"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mt-6"],["routerLink","/events",1,"flex","w-full","items-center","justify-center","rounded-md","bg-white","px-3","py-2","text-sm","font-medium","text-primary-600","shadow-sm","hover:bg-gray-50","dark:bg-gray-700","dark:text-primary-400","dark:hover:bg-gray-600"],[1,"mb-8","rounded-lg","bg-white","p-6","shadow-elevation-1","dark:bg-gray-800"],[1,"sm:flex","sm:items-center","sm:justify-between"],[1,"sm:flex","sm:space-x-5"],[1,"flex-shrink-0"],["alt","","class","mx-auto h-20 w-20 rounded-full object-cover",3,"src",4,"ngIf"],["class","mx-auto flex h-20 w-20 items-center justify-center rounded-full bg-primary-100 text-2xl font-semibold text-primary-800 dark:bg-primary-900 dark:text-primary-200",4,"ngIf"],[1,"mt-4","text-center","sm:mt-0","sm:pt-1","sm:text-left"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","sm:text-2xl"],[1,"mt-5","flex","justify-center","sm:mt-0"],["href","#",1,"flex","items-center","justify-center","rounded-md","border","border-gray-300","bg-white","px-4","py-2","text-sm","font-medium","text-gray-700","shadow-sm","hover:bg-gray-50","dark:border-gray-600","dark:bg-gray-700","dark:text-gray-200","dark:hover:bg-gray-600"],["alt","",1,"mx-auto","h-20","w-20","rounded-full","object-cover",3,"src"],[1,"mx-auto","flex","h-20","w-20","items-center","justify-center","rounded-full","bg-primary-100","text-2xl","font-semibold","text-primary-800","dark:bg-primary-900","dark:text-primary-200"],[1,"relative","pb-8"],["class","absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200 dark:bg-gray-700","aria-hidden","true",4,"ngIf"],[1,"relative","flex","space-x-3"],[1,"flex","h-8","w-8","items-center","justify-center","rounded-full",3,"ngClass"],[1,"min-w-0","flex-1"],[1,"text-sm"],[1,"font-medium","text-gray-900","dark:text-white",3,"routerLink"],[1,"mt-0.5","text-sm","text-gray-500","dark:text-gray-400"],[1,"mt-2","text-sm","text-gray-700","dark:text-gray-300"],[1,"line-clamp-2"],["aria-hidden","true",1,"absolute","top-4","left-4","-ml-px","h-full","w-0.5","bg-gray-200","dark:bg-gray-700"],[1,"py-4","text-center"],[1,"text-gray-500","dark:text-gray-400"]],template:function(o,d){o&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),r(3,"My Profile"),n()(),x(4,N,16,4,"div",3),t(5,"div",4)(6,"div",5)(7,"dt",6),r(8,"Total Events"),n(),t(9,"dd",7),r(10),n()(),t(11,"div",5)(12,"dt",6),r(13,"Joy Events"),n(),t(14,"dd",8),r(15),n()(),t(16,"div",5)(17,"dt",6),r(18,"Sad Events"),n(),t(19,"dd",9),r(20),n()(),t(21,"div",5)(22,"dt",6),r(23,"Angry Events"),n(),t(24,"dd",10),r(25),n()()(),t(26,"div",11)(27,"h2",12),r(28,"Recent Activity"),n(),t(29,"div",13)(30,"ul",14),x(31,D,18,17,"li",15)(32,J,4,0,"li",16),n()(),t(33,"div",17)(34,"a",18),r(35," View all "),n()()()()),o&2&&(a(4),l("ngIf",d.currentUser),a(6),c(d.events.length),a(5),m(" ",d.getJoyEventsCount()," "),a(5),m(" ",d.getSadEventsCount()," "),a(5),m(" ",d.getAngryEventsCount()," "),a(6),l("ngForOf",d.events.slice(0,5)),a(),l("ngIf",d.events.length===0))},dependencies:[I,E,w,S,_,j,C,P],encapsulation:2})}}return i})();export{H as ProfileComponent};
