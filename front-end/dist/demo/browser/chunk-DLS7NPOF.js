import{b as D,c as V,d as j}from"./chunk-DZEIK4SW.js";import{a as B,b as M}from"./chunk-2BE5DFES.js";import"./chunk-WPHHPEL3.js";import{$ as S,Aa as I,Ba as N,Ca as L,Da as C,Ea as F,L as h,M as i,Na as O,O as b,P as _,Qa as w,U as u,X as s,Z as n,_ as r,ba as g,ca as y,ea as o,fa as f,ga as c,na as k,oa as E,ra as d,sa as p,ta as T}from"./chunk-7K72UJZH.js";var A=(e,l)=>({"inline-block p-4 text-primary-600 border-b-2 border-primary-600 rounded-t-lg dark:text-primary-400 dark:border-primary-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),R=(e,l)=>({"inline-block p-4 text-joy-600 border-b-2 border-joy-600 rounded-t-lg dark:text-joy-400 dark:border-joy-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),U=(e,l)=>({"inline-block p-4 text-sadness-600 border-b-2 border-sadness-600 rounded-t-lg dark:text-sadness-400 dark:border-sadness-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),W=(e,l)=>({"inline-block p-4 text-anger-600 border-b-2 border-anger-600 rounded-t-lg dark:text-anger-400 dark:border-anger-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),$=(e,l)=>({"inline-block p-4 text-fear-600 border-b-2 border-fear-600 rounded-t-lg dark:text-fear-400 dark:border-fear-400":e,"inline-block p-4 border-b-2 border-transparent rounded-t-lg hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300":l}),G=e=>["/events",e];function J(e,l){if(e&1&&(n(0,"div",25),S(1,"img",26),d(2,"translate"),r()),e&2){let t=l.$implicit;i(),s("src",t,h)("alt",p(2,2,"EVENTS.LIST.ATTACHMENT_ALT"))}}function P(e,l){if(e&1&&(n(0,"div",22)(1,"div",23),u(2,J,3,4,"div",24),r()()),e&2){let t=y().$implicit;i(2),s("ngForOf",t.attachments.slice(0,3))}}function z(e,l){if(e&1&&(n(0,"div",12)(1,"div",13)(2,"div",14)(3,"h3",15),o(4),r(),n(5,"span",16),o(6),d(7,"translate"),r()(),n(8,"p",17),o(9),d(10,"date"),r()(),n(11,"p",18),o(12),r(),u(13,P,3,1,"div",19),n(14,"div",20)(15,"a",21),o(16),d(17,"translate"),r()()()),e&2){let t=l.$implicit;s("ngClass",t.theme),i(4),f(t.title),i(2),f(p(7,8,"EVENTS.EMOTIONS."+t.emotion.toUpperCase())),i(3),c(" ",T(10,10,t.createdAt,"medium")," "),i(3),f(t.content),i(),s("ngIf",t.attachments&&t.attachments.length>0),i(2),s("routerLink",k(15,G,t.id)),i(),c(" ",p(17,13,"EVENTS.LIST.VIEW_EVENT")," \u2192 ")}}function H(e,l){if(e&1&&(n(0,"div",10),u(1,z,18,17,"div",11),r()),e&2){let t=y();i(),s("ngForOf",t.filteredEvents)}}function Y(e,l){e&1&&(n(0,"div",27)(1,"div",28)(2,"span",29),o(3,"\u{1F4DD}"),r()(),n(4,"h3",30),o(5),d(6,"translate"),r(),n(7,"p",17),o(8),d(9,"translate"),r(),n(10,"div",31)(11,"a",32)(12,"span",6),o(13,"+"),r(),o(14),d(15,"translate"),r()()()),e&2&&(i(5),f(p(6,3,"EVENTS.LIST.NO_EVENTS_FOUND")),i(3),c(" ",p(9,5,"EVENTS.LIST.GET_STARTED")," "),i(6),c(" ",p(15,7,"EVENTS.NEW")," "))}var ne=(()=>{class e{constructor(t,m,a){this.eventService=t,this.emotionService=m,this.translate=a,this.events=[],this.filteredEvents=[],this.activeFilter="all",this.isLoading=!0}ngOnInit(){this.loadEvents()}loadEvents(){let t=JSON.parse(localStorage.getItem("currentUser")||"{}");console.log(t),t&&this.eventService.getEventsByUserId(t.id).subscribe({next:m=>{this.events=m,this.filteredEvents=[...this.events],this.isLoading=!1},error:m=>{console.error("Error loading events:",m),this.isLoading=!1}})}filterEvents(t){this.activeFilter=t,t==="all"?this.filteredEvents=[...this.events]:this.filteredEvents=this.events.filter(m=>m.emotion===t)}getEmotionDisplayName(t){return this.emotionService.getEmotionDisplayName(t)}static{this.\u0275fac=function(m){return new(m||e)(b(M),b(B),b(D))}}static{this.\u0275cmp=_({type:e,selectors:[["app-event-list"]],decls:32,vars:43,consts:[[1,"mx-auto","max-w-7xl"],[1,"mb-8","flex","items-center","justify-between"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],["routerLink","/events/new",1,"rounded-md","bg-primary-600","px-4","py-2","text-sm","font-medium","text-white","hover:bg-primary-700","dark:bg-primary-700","dark:hover:bg-primary-600"],[1,"mb-6","border-b","border-gray-200","dark:border-gray-700"],[1,"flex","flex-wrap","-mb-px","text-sm","font-medium","text-center"],[1,"mr-2"],["href","#",3,"click","ngClass"],["class","mt-6 grid gap-6 md:grid-cols-2 lg:grid-cols-3",4,"ngIf"],["class","py-12 text-center",4,"ngIf"],[1,"mt-6","grid","gap-6","md:grid-cols-2","lg:grid-cols-3"],["class","card overflow-hidden",3,"ngClass",4,"ngFor","ngForOf"],[1,"card","overflow-hidden",3,"ngClass"],[1,"mb-4"],[1,"flex","items-center","justify-between"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white"],[1,"badge-primary"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"line-clamp-3","text-gray-700","dark:text-gray-300"],["class","mt-4",4,"ngIf"],[1,"mt-4","flex","items-center","justify-between","pt-3","border-t","border-gray-200","dark:border-gray-700"],[1,"text-sm","font-medium","text-primary-600","hover:text-primary-700","dark:text-primary-400","dark:hover:text-primary-300",3,"routerLink"],[1,"mt-4"],[1,"grid","grid-cols-3","gap-2"],["class","relative h-20 overflow-hidden rounded-md",4,"ngFor","ngForOf"],[1,"relative","h-20","overflow-hidden","rounded-md"],[1,"h-full","w-full","object-cover",3,"src","alt"],[1,"py-12","text-center"],[1,"flex","justify-center"],[1,"text-4xl"],[1,"mt-2","text-sm","font-semibold","text-gray-900","dark:text-white"],[1,"mt-6"],["routerLink","/events/new",1,"inline-flex","items-center","rounded-md","bg-primary-600","px-3","py-2","text-sm","font-semibold","text-white","shadow-sm","hover:bg-primary-700","focus-visible:outline","focus-visible:outline-2","focus-visible:outline-offset-2","focus-visible:outline-primary-600","dark:bg-primary-700","dark:hover:bg-primary-600"]],template:function(m,a){m&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),o(3),d(4,"translate"),r(),n(5,"a",3),o(6),d(7,"translate"),r()(),n(8,"div",4)(9,"ul",5)(10,"li",6)(11,"a",7),g("click",function(v){return a.filterEvents("all"),v.preventDefault()}),o(12),d(13,"translate"),r()(),n(14,"li",6)(15,"a",7),g("click",function(v){return a.filterEvents("joy"),v.preventDefault()}),o(16),d(17,"translate"),r()(),n(18,"li",6)(19,"a",7),g("click",function(v){return a.filterEvents("sadness"),v.preventDefault()}),o(20),d(21,"translate"),r()(),n(22,"li",6)(23,"a",7),g("click",function(v){return a.filterEvents("anger"),v.preventDefault()}),o(24),d(25,"translate"),r()(),n(26,"li")(27,"a",7),g("click",function(v){return a.filterEvents("fear"),v.preventDefault()}),o(28),d(29,"translate"),r()()()(),u(30,H,2,1,"div",8)(31,Y,16,9,"div",9),r()),m&2&&(i(3),f(p(4,14,"EVENTS.LIST.TITLE")),i(3),c(" ",p(7,16,"EVENTS.NEW")," "),i(5),s("ngClass",E(28,A,a.activeFilter==="all",a.activeFilter!=="all")),i(),c(" ",p(13,18,"EVENTS.LIST.FILTERS.ALL")," "),i(3),s("ngClass",E(31,R,a.activeFilter==="joy",a.activeFilter!=="joy")),i(),c(" ",p(17,20,"EVENTS.EMOTIONS.JOY")," "),i(3),s("ngClass",E(34,U,a.activeFilter==="sadness",a.activeFilter!=="sadness")),i(),c(" ",p(21,22,"EVENTS.EMOTIONS.SADNESS")," "),i(3),s("ngClass",E(37,W,a.activeFilter==="anger",a.activeFilter!=="anger")),i(),c(" ",p(25,24,"EVENTS.EMOTIONS.ANGER")," "),i(3),s("ngClass",E(40,$,a.activeFilter==="fear",a.activeFilter!=="fear")),i(),c(" ",p(29,26,"EVENTS.EMOTIONS.FEAR")," "),i(2),s("ngIf",a.filteredEvents.length>0),i(),s("ngIf",a.filteredEvents.length===0))},dependencies:[F,I,N,L,C,w,O,j,V],encapsulation:2})}}return e})();export{ne as EventListComponent};
