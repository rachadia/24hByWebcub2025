import{A as m,a as u,b as h,h as l,j as r,r as i,x as d}from"./chunk-EUEJ7NWH.js";var f=(()=>{class s{constructor(){this.joyKeywords=["happy","joy","excited","thrilled","ecstatic","delighted","pleased","glad","content","satisfied","cheerful","jubilant","wonderful","amazing","love","celebrate","success","achievement","proud","perfect","won","win"],this.sadnessKeywords=["sad","unhappy","depressed","down","miserable","heartbroken","grief","lost","disappointed","sorry","regret","miss","lonely","alone","tears","crying","upset","hurt","pain","sorrow","gloomy","hopeless"],this.angerKeywords=["angry","mad","furious","outraged","annoyed","irritated","frustrated","hate","rage","disgusted","fed up","offended","enraged","hostile","bitter","resentful","upset","dislike","pissed","infuriated","irate"],this.fearKeywords=["afraid","scared","frightened","terrified","fearful","anxious","nervous","worried","concerned","stress","stressed","panic","dread","horror","alarmed","apprehensive","unsure","uncertain","helpless","threatened"]}detectEmotion(t){let e=t.toLowerCase();return e.includes("happy")||e.includes("joy")||e.includes("excited")||e.includes("positif")?"joy":e.includes("sad")||e.includes("depressed")||e.includes("unhappy")||e.includes("negative")?"sadness":e.includes("angry")||e.includes("furious")||e.includes("mad")||e.includes("colere")||e.includes("col\xE8re")||e.includes("negatif")?"anger":e.includes("scared")||e.includes("afraid")||e.includes("fearful")?"fear":"joy"}getEmotionColor(t){switch(t){case"joy":return"joy-500";case"sadness":return"sadness-500";case"anger":return"anger-500";case"fear":return"fear-500";default:return"primary-500"}}getEmotionDisplayName(t){switch(t){case"joy":return"Joy";case"sadness":return"Sadness";case"anger":return"Anger";case"fear":return"Fear";default:return"Unknown"}}getEmotionIcon(t){switch(t){case"joy":return"\u{1F60A}";case"sadness":return"\u{1F622}";case"anger":return"\u{1F621}";case"fear":return"\u{1F628}";default:return"\u{1F610}"}}static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275prov=d({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();var j=(()=>{class s{constructor(t){this.emotionService=t,this.events=[],this.eventsSubject=new l([]),this.events$=this.eventsSubject.asObservable(),this.initMockEvents()}initMockEvents(){this.events=[{id:"1",userId:"1",title:"Landed My Dream Job!",content:"After months of interviews, I finally got an offer from my dream company! So excited to start this new chapter!",createdAt:new Date(2023,3,15),emotion:"joy",theme:"theme-joy",attachments:[],comments:[{id:"1",userId:"2",username:"Jane Smith",content:"Congratulations! So happy for you!",createdAt:new Date(2023,3,15,14,30)}],likes:5},{id:"2",userId:"1",title:"Lost a Friend Today",content:"My childhood friend moved to another country today. We've been friends for over 20 years. I know we'll stay in touch, but it won't be the same.",createdAt:new Date(2023,2,28),emotion:"sadness",theme:"theme-sadness",attachments:["https://images.pexels.com/photos/397096/pexels-photo-397096.jpeg"],comments:[],likes:3},{id:"3",userId:"1",title:"Missed Flight Connection",content:"The airline delayed my first flight and I missed my connection. Now I'm stuck at the airport for 7 hours with no compensation!",createdAt:new Date(2023,1,12),emotion:"anger",theme:"theme-anger",attachments:[],comments:[],likes:0}],this.eventsSubject.next([...this.events])}getEvents(){return r(this.events).pipe(i(500))}getEventById(t){return r(this.events.find(e=>e.id===t)).pipe(i(300))}createEvent(t){let e=this.emotionService.detectEmotion(t.content||""),n={id:Date.now().toString(),userId:"1",title:t.title||"",content:t.content||"",createdAt:new Date,emotion:e,theme:`theme-${e}`,attachments:t.attachments||[],comments:[],likes:0};return this.events.unshift(n),this.eventsSubject.next([...this.events]),r(n).pipe(i(500))}updateEvent(t,e){let n=this.events.findIndex(c=>c.id===t);if(n===-1)throw new Error("Event not found");let a=this.events[n].emotion;e.content&&e.content!==this.events[n].content&&(a=this.emotionService.detectEmotion(e.content));let o=h(u(u({},this.events[n]),e),{emotion:a,theme:`theme-${a}`});return this.events[n]=o,this.eventsSubject.next([...this.events]),r(o).pipe(i(500))}deleteEvent(t){let e=this.events.findIndex(n=>n.id===t);return e===-1?r(!1):(this.events.splice(e,1),this.eventsSubject.next([...this.events]),r(!0).pipe(i(500)))}addComment(t,e,n,a){let o=this.events.find(p=>p.id===t);if(!o)throw new Error("Event not found");let c={id:Date.now().toString(),userId:e,username:n,content:a,createdAt:new Date};return o.comments.push(c),this.eventsSubject.next([...this.events]),r(o).pipe(i(300))}toggleLike(t){let e=this.events.find(n=>n.id===t);if(!e)throw new Error("Event not found");return e.likes+=1,this.eventsSubject.next([...this.events]),r(e).pipe(i(300))}getEventsByEmotion(t){return r(this.events.filter(e=>e.emotion===t)).pipe(i(500))}static{this.\u0275fac=function(e){return new(e||s)(m(f))}}static{this.\u0275prov=d({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{f as a,j as b};
